<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Dependency Injection in GDScript</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>

        tailwind.config = {

            theme: {

                extend: {

                    colors: {

                        gdscript: {

                            primary: '#4a86e8',

                            secondary: '#3d85c6',

                            accent: '#6aa84f',

                            dark: '#202124',

                            light: '#f8f9fa'

                        }

                    }

                }

            }

        }

    </script>

    <style>

        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;700&display=swap');

        

        body {

            font-family: 'Roboto Mono', monospace;

            background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);

            color: #e2e8f0;

        }

        

        .code-block {

            background-color: #1a202c;

            border-radius: 0.5rem;

            padding: 1.5rem;

            font-family: 'Roboto Mono', monospace;

            overflow-x: auto;

            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);

            border-left: 4px solid #4a86e8;

        }

        

        .slide {

            display: none;

        }

        

        .active-slide {

            display: block;

            animation: fadeIn 0.5s ease-in-out;

        }

        

        @keyframes fadeIn {

            from { opacity: 0; transform: translateY(10px); }

            to { opacity: 1; transform: translateY(0); }

        }

        

        .gdscript-keyword {

            color: #4a86e8;

            font-weight: bold;

        }

        

        .gdscript-class {

            color: #6aa84f;

        }

        

        .gdscript-function {

            color: #e69138;

        }

        

        .gdscript-variable {

            color: #9fc5e8;

        }

        

        .gdscript-comment {

            color: #999999;

        }

        

        .diagram-container {

            background: rgba(30, 35, 45, 0.7);

            border-radius: 0.75rem;

            padding: 1.5rem;

            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);

        }

        

        .diagram-box {

            background: #2d3748;

            border-radius: 0.5rem;

            padding: 1rem;

            border: 2px solid #4a5568;

            transition: all 0.3s ease;

        }

        

        .diagram-box:hover {

            transform: translateY(-5px);

            box-shadow: 0 10px 15px -3px rgba(74, 134, 232, 0.3);

            border-color: #4a86e8;

        }

        

        .arrow {

            position: relative;

            height: 2px;

            background: #4a86e8;

            margin: 1.5rem 0;

        }

        

        .arrow::after {

            content: '';

            position: absolute;

            top: -4px;

            right: -1px;

            width: 0;

            height: 0;

            border-left: 8px solid #4a86e8;

            border-top: 5px solid transparent;

            border-bottom: 5px solid transparent;

        }

        

        .highlight {

            background: linear-gradient(120deg, rgba(74, 134, 232, 0.2) 0%, rgba(74, 134, 232, 0.05) 100%);

            padding: 0.25rem 0.5rem;

            border-radius: 0.25rem;

        }

        

        .pulse {

            animation: pulse 2s infinite;

        }

        

        @keyframes pulse {

            0% { box-shadow: 0 0 0 0 rgba(74, 134, 232, 0.4); }

            70% { box-shadow: 0 0 0 10px rgba(74, 134, 232, 0); }

            100% { box-shadow: 0 0 0 0 rgba(74, 134, 232, 0); }

        }

        

        .tab-active {

            background: #4a86e8;

            color: white;

            border-bottom: 3px solid #6aa84f;

        }

        

        .tab {

            transition: all 0.3s ease;

        }

        

        .tab:hover {

            background: #2d3748;

        }

        

        .progress-bar {

            height: 4px;

            background: #4a5568;

            border-radius: 2px;

            overflow: hidden;

        }

        

        .progress-fill {

            height: 100%;

            background: #4a86e8;

            transition: width 0.5s ease;

        }

    </style>

</head>

<body class="min-h-screen flex flex-col">

    <!-- Header -->

    <header class="bg-gradient-to-r from-gdscript-dark to-gray-900 py-6 px-4 shadow-xl">

        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">

            <div class="flex items-center mb-4 md:mb-0">

                <i class="fas fa-code text-gdscript-primary text-3xl mr-3"></i>

                <h1 class="text-2xl md:text-3xl font-bold">Dependency Injection in GDScript</h1>

            </div>

            <div class="flex items-center space-x-4">

                <div class="bg-gdscript-primary rounded-full p-2">

                    <i class="fas fa-gamepad text-white"></i>

                </div>

                <div>

                    <p class="text-sm text-gray-300">Godot Engine Development</p>

                    <p class="text-xs text-gray-400">Best Practices & Patterns</p>

                </div>

            </div>

        </div>

    </header>



    <!-- Progress Bar -->

    <div class="progress-bar w-full">

        <div id="progress-fill" class="progress-fill w-0"></div>

    </div>



    <!-- Main Content -->

    <main class="flex-grow container mx-auto px-4 py-8">

        <!-- Navigation -->
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center border-b border-gray-700 mb-8">
            <!-- Tabs -->
            <div class="flex flex-wrap">
                <button id="tab-intro" class="tab tab-active py-3 px-6 font-medium text-sm md:text-base">Introduction</button>
                <button id="tab-concepts" class="tab py-3 px-6 font-medium text-sm md:text-base">Core Concepts</button>
                <button id="tab-implementation" class="tab py-3 px-6 font-medium text-sm md:text-base">Implementation</button>
                <button id="tab-examples" class="tab py-3 px-6 font-medium text-sm md:text-base">Examples</button>
                <button id="tab-benefits" class="tab py-3 px-6 font-medium text-sm md:text-base">Benefits</button>
                <button id="tab-best" class="tab py-3 px-6 font-medium text-sm md:text-base">Best Practices</button>
            </div>
            
            <!-- Navigation Buttons -->
            <div class="flex space-x-2 mt-2 md:mt-0 ml-auto">
                <button id="prev-btn" class="bg-gdscript-primary hover:bg-gdscript-secondary text-white py-1 px-3 text-sm rounded transition">
                    <i class="fas fa-arrow-left mr-1"></i>Previous
                </button>
                <button id="next-btn" class="bg-gdscript-primary hover:bg-gdscript-secondary text-white py-1 px-3 text-sm rounded transition">
                    Next<i class="fas fa-arrow-right ml-1"></i>
                </button>
            </div>
        </div>



        <!-- Slides Container -->

        <div id="slides-container" class="space-y-12">

            <!-- Slide 1: Introduction -->

            <section id="slide-intro" class="slide active-slide">

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

                    <div>

                        <h2 class="text-2xl md:text-3xl font-bold mb-6 text-gdscript-primary">What is Dependency Injection?</h2>

                        <p class="mb-4 text-gray-300 leading-relaxed">

                            Dependency Injection (DI) is a design pattern that allows objects to receive dependencies from an external source rather than creating them internally.

                        </p>

                        <p class="mb-4 text-gray-300 leading-relaxed">

                            In GDScript, this means passing required services, managers, or components to a class instead of instantiating them directly within the class.

                        </p>

                        <div class="mt-8 p-4 bg-gdscript-dark rounded-lg border-l-4 border-gdscript-primary">

                            <p class="text-gdscript-accent font-medium">

                                <i class="fas fa-lightbulb mr-2"></i>DI promotes loose coupling, making code more modular, testable, and maintainable.

                            </p>

                        </div>

                    </div>

                    <div class="diagram-container flex items-center justify-center p-8">
                        <div class="relative w-full max-w-2xl h-80">
                            <!-- Game Manager (Center) -->
                            <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10">
                                <div class="diagram-box w-40 h-20 flex items-center justify-center bg-gdscript-primary bg-opacity-20 border-2 border-gdscript-primary">
                                    <span class="font-bold text-center">Game Manager</span>
                                </div>
                            </div>

                            <!-- Input Handler (Left) -->
                            <div class="absolute top-1/2 left-0 transform -translate-y-1/2">
                                <div class="diagram-box w-32 h-16 flex items-center justify-center">
                                    <span>Input Handler</span>
                                </div>
                                <!-- Arrow -->
                                <div class="absolute top-1/2 left-full transform -translate-y-1/2 ml-2">
                                    <div class="relative w-16 h-1 bg-gdscript-primary">
                                        <div class="absolute right-0 top-1/2 transform -translate-y-1/2 w-0 h-0 border-t-4 border-b-4 border-l-8 border-t-transparent border-b-transparent border-l-gdscript-primary"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Audio Manager (Right) -->
                            <div class="absolute top-1/2 right-0 transform -translate-y-1/2">
                                <div class="diagram-box w-32 h-16 flex items-center justify-center">
                                    <span>Audio Manager</span>
                                </div>
                                <!-- Arrow -->
                                <div class="absolute top-1/2 right-full transform -translate-y-1/2 mr-2">
                                    <div class="relative w-16 h-1 bg-gdscript-primary">
                                        <div class="absolute left-0 top-1/2 transform -translate-y-1/2 w-0 h-0 border-t-4 border-b-4 border-r-8 border-t-transparent border-b-transparent border-r-gdscript-primary"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- UI Controller (Top) -->
                            <div class="absolute top-0 left-1/2 transform -translate-x-1/2">
                                <div class="diagram-box w-32 h-16 flex items-center justify-center">
                                    <span>UI Controller</span>
                                </div>
                                <!-- Arrow -->
                                <div class="absolute top-full left-1/2 transform -translate-x-1/2 mt-2">
                                    <div class="relative w-1 h-12 bg-gdscript-primary">
                                        <div class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-8 border-l-transparent border-r-transparent border-t-gdscript-primary"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Data Manager (Bottom) -->
                            <div class="absolute bottom-0 left-1/2 transform -translate-x-1/2">
                                <div class="diagram-box w-32 h-16 flex items-center justify-center">
                                    <span>Data Manager</span>
                                </div>
                                <!-- Arrow -->
                                <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2">
                                    <div class="relative w-1 h-12 bg-gdscript-primary">
                                        <div class="absolute top-0 left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-b-8 border-l-transparent border-r-transparent border-b-gdscript-primary"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p class="absolute bottom-0 left-0 right-0 text-center text-gray-400">Dependencies are injected into the Game Manager</p>
                    </div>

                </div>

            </section>



            <!-- Slide 2: Core Concepts -->

            <section id="slide-concepts" class="slide">

                <h2 class="text-2xl md:text-3xl font-bold mb-8 text-gdscript-primary">Core Concepts of DI</h2>

                

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

                    <div class="diagram-box p-6">

                        <div class="text-gdscript-primary text-2xl mb-3">

                            <i class="fas fa-plug"></i>

                        </div>

                        <h3 class="text-xl font-bold mb-2">Inversion of Control</h3>

                        <p class="text-gray-300">

                            Instead of a class controlling its dependencies, the control is inverted - dependencies are injected from outside.

                        </p>

                    </div>

                    

                    <div class="diagram-box p-6">

                        <div class="text-gdscript-primary text-2xl mb-3">

                            <i class="fas fa-link"></i>

                        </div>

                        <h3 class="text-xl font-bold mb-2">Loose Coupling</h3>

                        <p class="text-gray-300">

                            Classes depend on abstractions rather than concrete implementations, reducing tight coupling between components.

                        </p>

                    </div>

                    

                    <div class="diagram-box p-6">

                        <div class="text-gdscript-primary text-2xl mb-3">

                            <i class="fas fa-test-tube"></i>

                        </div>

                        <h3 class="text-xl font-bold mb-2">Testability</h3>

                        <p class="text-gray-300">

                            Dependencies can be easily mocked or replaced for unit testing, improving code reliability.

                        </p>

                    </div>

                    

                    <div class="diagram-box p-6">

                        <div class="text-gdscript-primary text-2xl mb-3">

                            <i class="fas fa-recycle"></i>

                        </div>

                        <h3 class="text-xl font-bold mb-2">Reusability</h3>

                        <p class="text-gray-300">

                            Components can be reused in different contexts by injecting different implementations of dependencies.

                        </p>

                    </div>

                    

                    <div class="diagram-box p-6">

                        <div class="text-gdscript-primary text-2xl mb-3">

                            <i class="fas fa-cogs"></i>

                        </div>

                        <h3 class="text-xl font-bold mb-2">Configuration</h3>

                        <p class="text-gray-300">

                            Dependencies can be configured externally, allowing for different behaviors without changing the class code.

                        </p>

                    </div>

                    

                    <div class="diagram-box p-6">

                        <div class="text-gdscript-primary text-2xl mb-3">

                            <i class="fas fa-life-ring"></i>

                        </div>

                        <h3 class="text-xl font-bold mb-2">Maintainability</h3>

                        <p class="text-gray-300">

                            Changes to dependencies don't require modifications to the dependent class, simplifying maintenance.

                        </p>

                    </div>

                </div>

                

                <div class="mt-12 diagram-container p-6">

                    <h3 class="text-xl font-bold mb-4 text-gdscript-accent">Traditional vs DI Approach</h3>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

                        <div>

                            <h4 class="font-bold mb-3 text-red-400">Traditional Approach</h4>

                            <div class="code-block">

                                <pre><code><span class="gdscript-keyword">extends</span> <span class="gdscript-class">Node</span>



<span class="gdscript-keyword">var</span> <span class="gdscript-variable">audio_manager</span> = <span class="gdscript-keyword">null</span>

<span class="gdscript-keyword">var</span> <span class="gdscript-variable">input_handler</span> = <span class="gdscript-keyword">null</span>



<span class="gdscript-keyword">func</span> <span class="gdscript-function">_ready</span>():

    <span class="gdscript-comment"># Tight coupling - directly instantiating dependencies</span>

    <span class="gdscript-variable">audio_manager</span> = <span class="gdscript-class">AudioManager</span>.<span class="gdscript-function">new</span>()

    <span class="gdscript-variable">input_handler</span> = <span class="gdscript-class">InputHandler</span>.<span class="gdscript-function">new</span>()

    <span class="gdscript-function">add_child</span>(<span class="gdscript-variable">audio_manager</span>)

    <span class="gdscript-function">add_child</span>(<span class="gdscript-variable">input_handler</span>)</code></pre>

                            </div>

                        </div>

                        

                        <div>

                            <h4 class="font-bold mb-3 text-green-400">DI Approach</h4>

                            <div class="code-block">

                                <pre><code><span class="gdscript-keyword">extends</span> <span class="gdscript-class">Node</span>



<span class="gdscript-keyword">var</span> <span class="gdscript-variable">audio_manager</span> = <span class="gdscript-keyword">null</span>

<span class="gdscript-keyword">var</span> <span class="gdscript-variable">input_handler</span> = <span class="gdscript-keyword">null</span>



<span class="gdscript-comment"># Dependencies injected via parameters</span>

<span class="gdscript-keyword">func</span> <span class="gdscript-function">initialize</span>(<span class="gdscript-variable">audio</span>, <span class="gdscript-variable">input</span>):

    <span class="gdscript-variable">audio_manager</span> = <span class="gdscript-variable">audio</span>

    <span class="gdscript-variable">input_handler</span> = <span class="gdscript-variable">input</span>

    <span class="gdscript-function">add_child</span>(<span class="gdscript-variable">audio_manager</span>)

    <span class="gdscript-function">add_child</span>(<span class="gdscript-variable">input_handler</span>)</code></pre>

                            </div>

                        </div>

                    </div>

                </div>

            </section>



            <!-- Slide 3: Implementation -->

            <section id="slide-implementation" class="slide">

                <h2 class="text-2xl md:text-3xl font-bold mb-8 text-gdscript-primary">Implementing DI in GDScript</h2>

                

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">

                    <div>

                        <h3 class="text-xl font-bold mb-4 text-gdscript-accent">Method 1: Constructor/Initialization Injection</h3>

                        <div class="code-block">

                            <pre><code>extends Node



var player_data = null

var ui_manager = null



# Inject dependencies during initialization

func initialize(data_service, ui_service):

    player_data = data_service

    ui_manager = ui_service

    

    # Setup with injected dependencies

    player_data.connect("data_changed", self, "_on_data_changed")

    ui_manager.set_context(self)



func _on_data_changed():

    ui_manager.update_display(player_data.current_stats)</code></pre>

                        </div>

                    </div>

                    

                    <div>

                        <h3 class="text-xl font-bold mb-4 text-gdscript-accent">Method 2: Property Injection</h3>

                        <div class="code-block">

                            <pre><code>extends Node



var logger = null setget set_logger

var config = null setget set_config



func set_logger(value):

    logger = value

    if logger:

        logger.log("Logger injected")



func set_config(value):

    config = value

    if config:

        apply_settings()



func apply_settings():

    if config:

        logger.log("Applying settings")</code></pre>

                        </div>

                    </div>

                </div>

                

                <div class="diagram-container p-6">

                    <h3 class="text-xl font-bold mb-4 text-gdscript-accent">DI Container Pattern</h3>

                    <div class="code-block">

                        <pre><code><span class="gdscript-keyword">extends</span> <span class="gdscript-class">Node</span>



<span class="gdscript-keyword">var</span> <span class="gdscript-variable">services</span> = {}



<span class="gdscript-keyword">func</span> <span class="gdscript-function">register_service</span>(<span class="gdscript-variable">name</span>, <span class="gdscript-variable">instance</span>):

    <span class="gdscript-variable">services</span>[<span class="gdscript-variable">name</span>] = <span class="gdscript-variable">instance</span>



<span class="gdscript-keyword">func</span> <span class="gdscript-function">get_service</span>(<span class="gdscript-variable">name</span>):

    <span class="gdscript-keyword">return</span> <span class="gdscript-variable">services</span>[<span class="gdscript-variable">name</span>] <span class="gdscript-keyword">if</span> <span class="gdscript-variable">services</span>.<span class="gdscript-function">has</span>(<span class="gdscript-variable">name</span>) <span class="gdscript-keyword">else</span> <span class="gdscript-keyword">null</span>



<span class="gdscript-keyword">func</span> <span class="gdscript-function">inject_dependencies</span>(<span class="gdscript-variable">target</span>, <span class="gdscript-variable">dependencies</span>):

    <span class="gdscript-keyword">for</span> <span class="gdscript-variable">dep_name</span> <span class="gdscript-keyword">in</span> <span class="gdscript-variable">dependencies</span>:

        <span class="gdscript-keyword">var</span> <span class="gdscript-variable">service</span> = <span class="gdscript-function">get_service</span>(<span class="gdscript-variable">dep_name</span>)

        <span class="gdscript-keyword">if</span> <span class="gdscript-variable">service</span>:

            <span class="gdscript-variable">target</span>[<span class="gdscript-variable">dep_name</span>] = <span class="gdscript-variable">service</span></code></pre>

                    </div>

                </div>

            </section>



            <!-- Slide 4: Examples -->

            <section id="slide-examples" class="slide">

                <h2 class="text-2xl md:text-3xl font-bold mb-8 text-gdscript-primary">Practical Examples</h2>

                

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">

                    <div>

                        <h3 class="text-xl font-bold mb-4 text-gdscript-accent">Player Controller with DI</h3>

                        <div class="code-block">

                            <pre><code>extends KinematicBody2D



export var speed = 200



# Injected dependencies

var input_handler = null

var audio_manager = null

var animation_controller = null



func initialize(input, audio, anim):

    input_handler = input

    audio_manager = audio

    animation_controller = anim



func _physics_process(delta):

    var direction = input_handler.get_movement_vector()

    var velocity = direction * speed

    

    if direction != Vector2.ZERO:

        animation_controller.play("walk")

        move_and_slide(velocity)

    else:

        animation_controller.play("idle")</code></pre>

                        </div>

                    </div>

                    

                    <div>

                        <h3 class="text-xl font-bold mb-4 text-gdscript-accent">Service Locator with DI</h3>

                        <div class="code-block">

                            <pre><code>extends Node



var services = {}



func _ready():

    # Register services

    register_service("AudioManager", AudioManager.new())

    register_service("SaveManager", SaveManager.new())

    register_service("UIManager", UIManager.new())



func register_service(name, instance):

    services[name] = instance

    add_child(instance)



func get_service(name):

    return services[name] if services.has(name) else null



func inject(target, service_names):

    for name in service_names:

        var service = get_service(name)

        if service:

            target[name.to_lower()] = service</code></pre>

                        </div>

                    </div>

                </div>

                

                <div class="diagram-container p-6">

                    <h3 class="text-xl font-bold mb-4 text-gdscript-accent">Scene Structure with DI</h3>

                    <div class="overflow-x-auto">

                        <table class="w-full text-left">

                            <thead>

                                <tr class="border-b border-gray-700">

                                    <th class="py-3 px-4">Node</th>

                                    <th class="py-3 px-4">Dependencies</th>

                                    <th class="py-3 px-4">Injected By</th>

                                </tr>

                            </thead>

                            <tbody>

                                <tr class="border-b border-gray-800">

                                    <td class="py-3 px-4">GameManager</td>

                                    <td class="py-3 px-4">AudioManager, SaveManager</td>

                                    <td class="py-3 px-4">Main Scene</td>

                                </tr>

                                <tr class="border-b border-gray-800">

                                    <td class="py-3 px-4">Player</td>

                                    <td class="py-3 px-4">InputHandler, AudioManager</td>

                                    <td class="py-3 px-4">GameManager</td>

                                </tr>

                                <tr class="border-b border-gray-800">

                                    <td class="py-3 px-4">Enemy</td>

                                    <td class="py-3 px-4">Pathfinding, AudioManager</td>

                                    <td class="py-3 px-4">Spawner</td>

                                </tr>

                                <tr>

                                    <td class="py-3 px-4">UI</td>

                                    <td class="py-3 px-4">SaveManager, GameManager</td>

                                    <td class="py-3 px-4">GameManager</td>

                                </tr>

                            </tbody>

                        </table>

                    </div>

                </div>

            </section>



            <!-- Slide 5: Benefits -->

            <section id="slide-benefits" class="slide">

                <h2 class="text-2xl md:text-3xl font-bold mb-8 text-gdscript-primary">Benefits of Dependency Injection</h2>

                

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">

                    <div class="diagram-box p-6">

                        <div class="flex items-start">

                            <div class="text-gdscript-primary text-2xl mr-4 mt-1">

                                <i class="fas fa-puzzle-piece"></i>

                            </div>

                            <div>

                                <h3 class="text-xl font-bold mb-2">Modularity</h3>

                                <p class="text-gray-300">

                                    Components can be developed, tested, and modified independently. Changes to one component don't require changes to others.

                                </p>

                            </div>

                        </div>

                    </div>

                    

                    <div class="diagram-box p-6">

                        <div class="flex items-start">

                            <div class="text-gdscript-primary text-2xl mr-4 mt-1">

                                <i class="fas fa-vial"></i>

                            </div>

                            <div>

                                <h3 class="text-xl font-bold mb-2">Testability</h3>

                                <p class="text-gray-300">

                                    Dependencies can be easily mocked or replaced with test doubles, enabling comprehensive unit testing.

                                </p>

                            </div>

                        </div>

                    </div>

                    

                    <div class="diagram-box p-6">

                        <div class="flex items-start">

                            <div class="text-gdscript-primary text-2xl mr-4 mt-1">

                                <i class="fas fa-sync-alt"></i>

                            </div>

                            <div>

                                <h3 class="text-xl font-bold mb-2">Flexibility</h3>

                                <p class="text-gray-300">

                                    Different implementations can be injected based on context (e.g., debug vs production, different platforms).

                                </p>

                            </div>

                        </div>

                    </div>

                    

                    <div class="diagram-box p-6">

                        <div class="flex items-start">

                            <div class="text-gdscript-primary text-2xl mr-4 mt-1">

                                <i class="fas fa-code"></i>

                            </div>

                            <div>

                                <h3 class="text-xl font-bold mb-2">Maintainability</h3>

                                <p class="text-gray-300">

                                    Clear separation of concerns makes code easier to understand and modify over time.

                                </p>

                            </div>

                        </div>

                    </div>

                </div>

                

                <div class="diagram-container p-6">

                    <h3 class="text-xl font-bold mb-4 text-gdscript-accent">Comparison: Without vs With DI</h3>

                    <div class="overflow-x-auto">

                        <table class="w-full text-left">

                            <thead>

                                <tr class="border-b border-gray-700">

                                    <th class="py-3 px-4">Aspect</th>

                                    <th class="py-3 px-4">Without DI</th>

                                    <th class="py-3 px-4">With DI</th>

                                </tr>

                            </thead>

                            <tbody>

                                <tr class="border-b border-gray-800">

                                    <td class="py-3 px-4 font-medium">Coupling</td>

                                    <td class="py-3 px-4 text-red-400">Tight coupling between components</td>

                                    <td class="py-3 px-4 text-green-400">Loose coupling, dependencies are external</td>

                                </tr>

                                <tr class="border-b border-gray-800">

                                    <td class="py-3 px-4 font-medium">Testing</td>

                                    <td class="py-3 px-4 text-red-400">Difficult to mock dependencies</td>

                                    <td class="py-3 px-4 text-green-400">Easy to inject test doubles</td>

                                </tr>

                                <tr class="border-b border-gray-800">

                                    <td class="py-3 px-4 font-medium">Reusability</td>

                                    <td class="py-3 px-4 text-red-400">Hard to reuse components</td>

                                    <td class="py-3 px-4 text-green-400">Components can be reused easily</td>

                                </tr>

                                <tr class="border-b border-gray-800">

                                    <td class="py-3 px-4 font-medium">Configuration</td>

                                    <td class="py-3 px-4 text-red-400">Hard-coded dependencies</td>

                                    <td class="py-3 px-4 text-green-400">Flexible configuration at runtime</td>

                                </tr>

                                <tr>

                                    <td class="py-3 px-4 font-medium">Maintainability</td>

                                    <td class="py-3 px-4 text-red-400">Changes require modifying classes</td>

                                    <td class="py-3 px-4 text-green-400">Changes only require updating injection</td>

                                </tr>

                            </tbody>

                        </table>

                    </div>

                </div>

            </section>



            <!-- Slide 6: Best Practices -->

            <section id="slide-best" class="slide">

                <h2 class="text-2xl md:text-3xl font-bold mb-8 text-gdscript-primary">Best Practices for DI in GDScript</h2>

                

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">

                    <div>

                        <div class="diagram-box p-6 mb-6">

                            <h3 class="text-xl font-bold mb-3 text-gdscript-accent">1. Favor Constructor Injection</h3>

                            <p class="text-gray-300 mb-3">

                                Inject dependencies during object initialization to ensure all required dependencies are available.

                            </p>

                            <div class="code-block">

                                <pre><code>func initialize(audio_manager, save_manager):

    assert(audio_manager != null, "AudioManager is required")

    assert(save_manager != null, "SaveManager is required")

    

    self.audio_manager = audio_manager

    self.save_manager = save_manager</code></pre>

                            </div>

                        </div>

                        

                        <div class="diagram-box p-6">

                            <h3 class="text-xl font-bold mb-3 text-gdscript-accent">3. Use Interfaces/Abstract Classes</h3>

                            <p class="text-gray-300 mb-3">

                                Define interfaces for dependencies to promote loose coupling and make testing easier.

                            </p>

                            <div class="code-block">

                                <pre><code># Define an interface for audio services

class AudioService:

    func play_sound(sound_name): pass

    func set_volume(volume): pass



# Implementation

class DefaultAudioService extends AudioService:

    func play_sound(sound_name):

        # Implementation

        pass

    

    func set_volume(volume):

        # Implementation

        pass</code></pre>

                            </div>

                        </div>

                    </div>

                    

                    <div>

                        <div class="diagram-box p-6 mb-6">

                            <h3 class="text-xl font-bold mb-3 text-gdscript-accent">2. Avoid Service Locator Anti-pattern</h3>

                            <p class="text-gray-300 mb-3">

                                While convenient, service locators can hide dependencies and make testing harder. Prefer explicit injection.

                            </p>

                            <div class="code-block">

                                <pre><code># Avoid this approach

func _ready():

    var audio = ServiceLocator.get_audio_manager()

    audio.play_sound("jump")



# Prefer this approach

func initialize(audio_manager):

    self.audio_manager = audio_manager



func jump():

    audio_manager.play_sound("jump")</code></pre>

                            </div>

                        </div>

                        

                        <div class="diagram-box p-6">

                            <h3 class="text-xl font-bold mb-3 text-gdscript-accent">4. Keep Dependencies Minimal</h3>

                            <p class="text-gray-300 mb-3">

                                Only inject what a class actually needs. Avoid injecting entire service locators.

                            </p>

                            <div class="code-block">

                                <pre><code># Good - only inject what's needed

func initialize(audio_manager):

    self.audio_manager = audio_manager



# Avoid - injecting everything

func initialize(service_locator):

    self.audio_manager = service_locator.get_audio_manager()

    self.save_manager = service_locator.get_save_manager()

    self.ui_manager = service_locator.get_ui_manager()</code></pre>

                            </div>

                        </div>

                    </div>

                </div>

                

                <div class="diagram-container p-6">

                    <h3 class="text-xl font-bold mb-4 text-gdscript-accent">When to Use DI</h3>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">

                        <div class="bg-green-900 bg-opacity-30 p-4 rounded-lg border border-green-700">

                            <div class="text-green-400 text-xl mb-2">

                                <i class="fas fa-check-circle"></i>

                            </div>

                            <h4 class="font-bold mb-2">Use DI for:</h4>

                            <ul class="text-sm space-y-1">

                                <li>• Services (audio, save, networking)</li>

                                <li>• Managers (input, UI, game state)</li>

                                <li>• External dependencies</li>

                                <li>• Components with behavior</li>

                            </ul>

                        </div>

                        

                        <div class="bg-yellow-900 bg-opacity-30 p-4 rounded-lg border border-yellow-700">

                            <div class="text-yellow-400 text-xl mb-2">

                                <i class="fas fa-exclamation-triangle"></i>

                            </div>

                            <h4 class="font-bold mb-2">Consider DI for:</h4>

                            <ul class="text-sm space-y-1">

                                <li>• Configuration objects</li>

                                <li>• Utility classes</li>

                                <li>• Data models</li>

                                <li>• Simple value objects</li>

                            </ul>

                        </div>

                        

                        <div class="bg-red-900 bg-opacity-30 p-4 rounded-lg border border-red-700">

                            <div class="text-red-400 text-xl mb-2">

                                <i class="fas fa-times-circle"></i>

                            </div>

                            <h4 class="font-bold mb-2">Avoid DI for:</h4>

                            <ul class="text-sm space-y-1">

                                <li>• Simple data containers</li>

                                <li>• Value objects</li>

                                <li>• Temporary variables</li>

                                <li>• Engine-provided objects</li>

                            </ul>

                        </div>

                    </div>

                </div>

            </section>

        </div>

    </main>



    <!-- Footer -->

    <footer class="bg-gdscript-dark py-6 px-4 border-t border-gray-800">

        <div class="container mx-auto">

            <div class="flex flex-col md:flex-row justify-between items-center">

                <div class="mb-4 md:mb-0">

                    <p class="text-gray-400">Dependency Injection in GDScript - Godot Engine Best Practices</p>

                </div>

                <div class="hidden md:block text-gray-500 text-sm">
                    <p>Use arrow keys or buttons above to navigate</p>
                </div>

            </div>

            <div class="mt-6 text-center text-gray-500 text-sm">

                <p>Created with HTML, TailwindCSS, and JavaScript | GDScript Dependency Injection Presentation</p>

            </div>

        </div>

    </footer>



    <script>

        // Slide navigation

        const slides = document.querySelectorAll('.slide');

        const tabs = document.querySelectorAll('.tab');

        const prevBtn = document.getElementById('prev-btn');

        const nextBtn = document.getElementById('next-btn');

        const progressFill = document.getElementById('progress-fill');

        

        let currentSlide = 0;

        const totalSlides = slides.length;

        

        // Initialize

        updateProgress();

        

        // Tab navigation

        tabs.forEach((tab, index) => {

            tab.addEventListener('click', () => {

                switchSlide(index);

                updateActiveTab(index);

            });

        });

        

        // Button navigation

        prevBtn.addEventListener('click', () => {

            if (currentSlide > 0) {

                switchSlide(currentSlide - 1);

                updateActiveTab(currentSlide);

            }

        });

        

        nextBtn.addEventListener('click', () => {

            if (currentSlide < totalSlides - 1) {

                switchSlide(currentSlide + 1);

                updateActiveTab(currentSlide);

            }

        });

        

        // Keyboard navigation

        document.addEventListener('keydown', (e) => {

            if (e.key === 'ArrowLeft') {

                if (currentSlide > 0) {

                    switchSlide(currentSlide - 1);

                    updateActiveTab(currentSlide);

                }

            } else if (e.key === 'ArrowRight') {

                if (currentSlide < totalSlides - 1) {

                    switchSlide(currentSlide + 1);

                    updateActiveTab(currentSlide);

                }

            }

        });

        

        function switchSlide(index) {

            slides[currentSlide].classList.remove('active-slide');

            currentSlide = index;

            slides[currentSlide].classList.add('active-slide');

            updateProgress();

        }

        

        function updateActiveTab(index) {

            tabs.forEach(tab => tab.classList.remove('tab-active'));

            tabs[index].classList.add('tab-active');

        }

        

        function updateProgress() {

            const progress = ((currentSlide + 1) / totalSlides) * 100;

            progressFill.style.width = `${progress}%`;

        }

        

        // Apply GDScript highlighting only to GDScript code blocks
        document.querySelectorAll('pre code.language-gdscript').forEach(block => {
            // Get raw text content
            let html = block.textContent;
            
            // Keywords
            html = html.replace(/\b(extends|var|func|class|if|else|for|while|return|break|continue|pass|assert|export|setget|null|true|false|new)\b/g, 
                '<span class="gdscript-keyword">$1</span>');
            
            // Classes
            html = html.replace(/\b(Node|KinematicBody2D|Vector2|AudioManager|InputHandler|SaveManager|UIManager|AudioService)\b/g, 
                '<span class="gdscript-class">$1</span>');
            
            // Functions
            html = html.replace(/\b(_ready|_physics_process|initialize|play_sound|get_movement_vector|update_display|log|apply_settings|set_logger|set_config|connect|set_context|register_service|get_service|inject|inject_dependencies)\b/g, 
                '<span class="gdscript-function">$1</span>');
            
            // Variables
            html = html.replace(/\b(self|speed|direction|velocity|audio_manager|input_handler|logger|config|services|name|instance|target|dependencies|player_data|ui_manager|data_service|ui_service|value)\b/g, 
                '<span class="gdscript-variable">$1</span>');
            
            // Comments
            html = html.replace(/(#.*)/g, '<span class="gdscript-comment">$1</span>');
            
            // Strings
            html = html.replace(/(".*?")/g, '<span class="text-green-400">$1</span>');
            
            // Numbers
            html = html.replace(/(\d+)/g, '<span class="text-purple-400">$1</span>');
            
            // Update the HTML
            block.innerHTML = html;
            
            // Add a small label to indicate this is GDScript
            const pre = block.closest('pre');
            if (pre && !pre.querySelector('.code-language-label')) {
                const label = document.createElement('div');
                label.className = 'code-language-label absolute top-2 right-2 bg-gray-700 text-xs text-gray-300 px-2 py-1 rounded';
                label.textContent = 'GDScript';
                pre.style.position = 'relative';
                pre.appendChild(label);
            }

        });

    </script>

</body>

</html>